coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "Government expenditure on education, total (% of GDP)")
df_ed_exp |> filter(year == 2020) |> drop_na(ed_exp) |>
filter(!(iso2c %in% REGION))|>
arrange(ed_exp) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, ed_exp)), ed_exp)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "Government expenditure on education, total (% of GDP)")
library(tidyverse)
library(WDI)
df_primary <- read_csv("data/primary.csv")
df_primary
str(df_primary)
REGION <- c("1A", "1W", "4E", "7E", "8S", "B8", "EU", "F1", "OE", "S1",
"S2", "S3", "S4", "T2", "T3", "T4", "T5", "T6", "T7", "V1", "V2",
"V3", "V4", "XC", "XD", "XE", "XF", "XG", "XH", "XI", "XJ", "XL",
"XM", "XN", "XO", "XP", "XQ", "XT", "XU", "XY", "Z4", "Z7", "ZF",
"ZG", "ZH", "ZI", "ZJ", "ZQ", "ZT")
df_primary |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
SOUTH_AFRICA_FIVE <- c("South Africa", "Namibia", "Eswatini", "Botswana", "Lesotho")
CHOSEN_COUNTRIES <- c("Suriname", "Belize", "Brazil", "Colombia")
df_primary |> drop_na(primary) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_primary |> filter(country == "Japan") |>
drop_na(primary) |> arrange(desc(year))
df_primary |> filter(country == "Japan") |> drop_na(primary) |>
ggplot(aes(year, primary)) + geom_line()
df_primary |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(primary) |>
ggplot(aes(year, primary)) + geom_line(aes(col = country))
df_primary |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(primary) |>
ggplot(aes(year, primary)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_primary |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(primary) |>
ggplot(aes(year, primary)) + geom_line(aes(col = country))
df_primary |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(primary) |>
ggplot(aes(year, primary)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_primary |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(primary) |>
ggplot(aes(primary)) + geom_histogram(binwidth = 5)
df_primary |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 102.73683
SAF <- df_primary |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(primary)
df_primary |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(primary) |>
ggplot() + geom_histogram(aes(primary), binwidth = 5) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2020年の初等学校就学率", subtitle = "日本：青、SACU：赤")
df_primary |> filter(year == 2020) |> drop_na(primary) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(primary)) |> head(10) |>
ggplot(aes(fct_reorder(country, primary), primary)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "初等学校就学率")
df_primary |> filter(year == 2020) |> drop_na(primary) |>
filter(!(iso2c %in% REGION))|>
arrange(primary) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, primary)), primary)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "初等学校就学率")
library(tidyverse)
library(WDI)
df_secondary <- read_csv("data/secondary.csv")
df_secondary
str(df_secondary)
REGION <- c("1A", "1W", "4E", "7E", "8S", "B8", "EU", "F1", "OE", "S1",
"S2", "S3", "S4", "T2", "T3", "T4", "T5", "T6", "T7", "V1", "V2",
"V3", "V4", "XC", "XD", "XE", "XF", "XG", "XH", "XI", "XJ", "XL",
"XM", "XN", "XO", "XP", "XQ", "XT", "XU", "XY", "Z4", "Z7", "ZF",
"ZG", "ZH", "ZI", "ZJ", "ZQ", "ZT")
df_secondary |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_secondary |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
SOUTH_AFRICA_FIVE <- c("South Africa", "Namibia", "Eswatini", "Botswana", "Lesotho")
CHOSEN_COUNTRIES <- c("Suriname", "Belize", "Brazil", "Colombia")
df_secondary |> drop_na(secondary) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_secondary |> filter(country == "Japan") |>
drop_na(secondary) |> arrange(desc(year))
df_secondary |> filter(country == "Japan") |> drop_na(secondary) |>
ggplot(aes(year, secondary)) + geom_line()
df_secondary |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(secondary) |>
ggplot(aes(year, secondary)) + geom_line(aes(col = country))
df_secondary |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(secondary) |>
ggplot(aes(year, secondary)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_secondary |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(secondary) |>
ggplot(aes(year, secondary)) + geom_line(aes(col = country))
df_secondary |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(secondary) |>
ggplot(aes(year, secondary)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_secondary |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(secondary) |>
ggplot(aes(secondary)) + geom_histogram(binwidth = 10)
df_secondary |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 102.84480
SAF <- df_secondary |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(secondary)
df_secondary |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(secondary) |>
ggplot() + geom_histogram(aes(secondary), binwidth = 10) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2020年の中等学校就学率", subtitle = "日本：青、SACU：赤")
df_secondary |> filter(year == 2020) |> drop_na(secondary) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(secondary)) |> head(10) |>
ggplot(aes(fct_reorder(country, secondary), secondary)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "secondary school enrollment")
df_secondary |> filter(year == 2020) |> drop_na(secondary) |>
filter(!(iso2c %in% REGION))|>
arrange(secondary) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, secondary)), secondary)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "secondary schooll enrollment")
df_tertiary <- read_csv("data/tertiary.csv")
df_tertiary
str(df_tertiary)
REGION <- c("1A", "1W", "4E", "7E", "8S", "B8", "EU", "F1", "OE", "S1",
"S2", "S3", "S4", "T2", "T3", "T4", "T5", "T6", "T7", "V1", "V2",
"V3", "V4", "XC", "XD", "XE", "XF", "XG", "XH", "XI", "XJ", "XL",
"XM", "XN", "XO", "XP", "XQ", "XT", "XU", "XY", "Z4", "Z7", "ZF",
"ZG", "ZH", "ZI", "ZJ", "ZQ", "ZT")
df_tertiary |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_tertiary |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
SOUTH_AFRICA_FIVE <- c("South Africa", "Namibia", "Eswatini", "Botswana", "Lesotho")
CHOSEN_COUNTRIES <- c("Suriname", "Belize", "Brazil", "Colombia")
df_tertiary |> filter(country == "Japan") |>
drop_na(tertiary) |> arrange(desc(year))
df_tertiary |> filter(country == "Japan") |> drop_na(tertiary) |>
ggplot(aes(year, tertiary)) + geom_line()
df_tertiary |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(tertiary) |>
ggplot(aes(year, tertiary)) + geom_line(aes(col = country))
df_tertiary |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(tertiary) |>
ggplot(aes(year, tertiary)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_tertiary |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(tertiary) |>
ggplot(aes(year, tertiary)) + geom_line(aes(col = country))
df_tertiary |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(tertiary) |>
ggplot(aes(year, tertiary)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_tertiary |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(tertiary) |>
ggplot(aes(tertiary)) + geom_histogram(binwidth = 10)
df_tertiary |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 62.13584
SAF <- df_tertiary |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(tertiary)
df_tertiary |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(tertiary) |>
ggplot() + geom_histogram(aes(tertiary), binwidth = 10) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2020年の中等学校後の就学率", subtitle = "日本：青、SACU：赤")
df_tertiary |> filter(year == 2020) |> drop_na(tertiary) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(tertiary)) |> head(10) |>
ggplot(aes(fct_reorder(country, tertiary), tertiary)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "tertiary school enrollment")
df_tertiary |> filter(year == 2020) |> drop_na(tertiary) |>
filter(!(iso2c %in% REGION))|>
arrange(tertiary) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, tertiary)), tertiary)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "tertiary school enrollment")
df_under5 <- read_csv("data/under5.csv")
df_under5
str(df_under5)
df_under5 |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_under5 |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
SOUTH_AFRICA_FIVE <- c("South Africa", "Namibia", "Eswatini", "Botswana", "Lesotho")
CHOSEN_COUNTRIES <- c("Suriname", "Belize", "Brazil", "Colombia")
df_under5 |> drop_na(under5) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_under5 |> filter(country == "Japan") |>
drop_na(under5) |> arrange(desc(year))
df_ed_exp |> filter(country == "Japan") |> drop_na(ed_exp) |>
ggplot(aes(year, ed_exp)) + geom_line()
df_under5 |> filter(country == "Japan") |> drop_na(under5) |>
ggplot(aes(year, ed_exp)) + geom_line()
df_under5 |> filter(country == "Japan") |> drop_na(under5) |>
ggplot(aes(year, under5)) + geom_line()
df_under5 |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(under5) |>
ggplot(aes(year, under5)) + geom_line(aes(col = country))
df_under5 |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(under5) |>
ggplot(aes(year, under5)) + geom_line(aes(col = country))
df_under5 |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(under5) |>
ggplot(aes(year, under5)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_under5 |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(under5) |>
ggplot(aes(under5)) + geom_histogram(binwidth = 1)
df_under5 |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(under5) |>
ggplot(aes(under5)) + geom_histogram(binwidth = 10)
df_under5 |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 2.4
SAF <- df_under5 |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(under5)
df_under5 |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(under5) |>
ggplot() + geom_histogram(aes(under5), binwidth = 1) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "五歳未満の死亡率（1000人あたり）", subtitle = "日本：青、SACU：赤")
JP <- 2.4
SAF <- df_under5 |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(under5)
df_under5 |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(under5) |>
ggplot() + geom_histogram(aes(under5), binwidth = 10) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "五歳未満の死亡率（1000人あたり）", subtitle = "日本：青、SACU：赤")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(ed_exp)) |> head(10) |>
ggplot(aes(fct_reorder(country, under5), under5)) + geom_col() +
coord_flip() + labs(title = "五歳未満の死亡率（1000人あたり）")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(under5)) |> head(10) |>
ggplot(aes(fct_reorder(country, under5), under5)) + geom_col() +
coord_flip() + labs(title = "五歳未満の死亡率（1000人あたり）")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(under5)) |> head(10) |>
ggplot(aes(fct_reorder(country, under5), under5)) + geom_col() +
coord_flip() + labs(title = "五歳未満の死亡率（1000人あたり）", y = "under 5 mortality")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(under5)) |> head(10) |>
ggplot(aes(fct_reorder(country, under5), under5)) + geom_col() +
coord_flip() + labs(title = "五歳未満の死亡率（1000人あたり）", x = "under 5 mortality")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(under5) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, under5)), under5)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "under 5 mortality", y = "country")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(under5) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, under5)), under5)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", y = "under 5 mortality", x = "country")
df_under5 |> filter(year == 2020) |> drop_na(under5) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(under5)) |> head(10) |>
ggplot(aes(fct_reorder(country, under5), under5)) + geom_col() +
coord_flip() + labs(title = "五歳未満の死亡率（1000人あたり）", x = "country")
df_primary_gpi <- WDI(indicator = c(primary_gpi = "SE.ENR.PRSC.FM.ZS"))
write_csv(df_primary_gpi, "data/primary_gpi.csv")
df_primary_gpi <- read_csv("data/primary_gpi.csv")
df_primary_gpi
str(df_primary_gpi)
REGION <- c("1A", "1W", "4E", "7E", "8S", "B8", "EU", "F1", "OE", "S1",
"S2", "S3", "S4", "T2", "T3", "T4", "T5", "T6", "T7", "V1", "V2",
"V3", "V4", "XC", "XD", "XE", "XF", "XG", "XH", "XI", "XJ", "XL",
"XM", "XN", "XO", "XP", "XQ", "XT", "XU", "XY", "Z4", "Z7", "ZF",
"ZG", "ZH", "ZI", "ZJ", "ZQ", "ZT")
df_primary_gpi |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_primary_gpi |> filter(iso2c %in% REGIONS) |> distinct(country, iso2c)
SOUTH_AFRICA_FIVE <- c("South Africa", "Namibia", "Eswatini", "Botswana", "Lesotho")
CHOSEN_COUNTRIES <- c("Suriname", "Belize", "Brazil", "Colombia")
df_primary_gpi |> filter(country == "Japan") |>
drop_na(primary_gpi) |> arrange(desc(year))
df_primary_gpi |> filter(country == "Japan") |> drop_na(primary_gpi) |>
ggplot(aes(year, primary_gpi)) + geom_line()
df_primary_gpi |> filter(country %in% SOUTH_AFRICA_FIVE) |>
drop_na(primary_gpi) |>
ggplot(aes(year, primary_gpi)) + geom_line(aes(col = country))
df_primary_gpi |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(primary_gpi) |>
ggplot(aes(year, primary_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_primary_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(primary_gpi) |>
ggplot(aes(year, primary_gpi)) + geom_line(aes(col = country))
df_primary_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(primary_gpi) |>
ggplot(aes(year, primary_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_primary_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(primary_gpi) |>
ggplot(aes(primary_gpi)) + geom_histogram(binwidth = 1)
df_primary_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(primary_gpi) |>
ggplot(aes(primary_gpi)) + geom_histogram(binwidth = 0.2)
df_primary_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(primary_gpi) |>
ggplot(aes(primary_gpi)) + geom_histogram(binwidth = 0.1)
df_primary_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(primary_gpi) |>
ggplot(aes(primary_gpi)) + geom_histogram(binwidth = 0.01)
df_primary_gpi |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
df_primary_gpi |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(primary_gpi) |>
ggplot(aes(primary_gpi)) + geom_histogram(binwidth = 0.01)
df_primary_gpi |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(primary_gpi) |>
ggplot(aes(primary_gpi)) + geom_histogram(binwidth = 0.02)
df_primary_gpi |> filter(year == 2019) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 1.00341 # no recent data after 2019
SAF <- df_primary_gpi |> filter(year == 2019) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(primary_gpi)
df_ed_exp |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(ed_exp) |>
ggplot() + geom_histogram(aes(ed_exp), binwidth = 1) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2019年の小学校就学率 GPI", subtitle = "日本：青、SACU：赤")
df_primary_gpi |> filter(year == 2019) |> drop_na(primary_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(primary_gpi)) |> head(10) |>
ggplot(aes(fct_reorder(country, primary_gpi), primary_gpi)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "primary school enrollment, GPI")
df_primary_gpi |> filter(year == 2020) |> drop_na(primary_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(primary_gpi) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, primary_gpi)), primary_gpi)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "primary school enrollment, GPI")
df_primary_gpi |> filter(year == 2019) |> drop_na(primary_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(primary_gpi)) |> head(10) |>
ggplot(aes(fct_reorder(country, primary_gpi), primary_gpi)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "primary and secondary enrollment, GPI")
df_primary_gpi |> filter(year == 2020) |> drop_na(primary_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(primary_gpi) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, primary_gpi)), primary_gpi)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "primary and secondary enrollment, GPI")
JP <- 1.00341 # no recent data after 2019
SAF <- df_primary_gpi |> filter(year == 2019) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(primary_gpi)
df_ed_exp |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(ed_exp) |>
ggplot() + geom_histogram(aes(ed_exp), binwidth = 1) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2019年の初等中等学校就学率 GPI", subtitle = "日本：青、SACU：赤")
df_school_gpi <- WDI(indicator = c(school_gpi = "SE.ENR.PRSC.FM.ZS"))
write_csv(df_school_gpi, "data/school_gpi.csv")
df_school_gpi <- read_csv("data/school_gpi.csv")
df_school_gpi
str(df_school_gpi)
df_school_gpi |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_school_gpi |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_school_gpi |> filter(iso2c %in% REGIONS) |> distinct(country, iso2c)
df_school |> drop_na(school) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_school |> drop_na(school) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_school_gpi |> drop_na(school) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_school_gpi |> drop_na(school_gpi) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_school_gpi |> filter(country == "Japan") |>
drop_na(school_gpi) |> arrange(desc(year))
df_primary_gpi |> filter(country == "Japan") |> drop_na(primary_gpi) |>
ggplot(aes(year, primary_gpi)) + geom_line()
df_school_gpi |> filter(country == "Japan") |> drop_na(school_gpi) |>
ggplot(aes(year, school_gpi)) + geom_line()
df_school_gpi |> filter(country %in% SOUTH_AFRICA_FIVE) |>
drop_na(school_gpi) |>
ggplot(aes(year, school_gpi)) + geom_line(aes(col = country))
df_school_gpi |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(school_gpi) |>
ggplot(aes(year, school_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_school_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(school_gpi) |>
ggplot(aes(year, school_gpi)) + geom_line(aes(col = country))
df_school_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(primary_gpi) |>
ggplot(aes(year, school_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_school_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(school_gpi) |>
ggplot(aes(year, school_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_school_gpi |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(school_gpi) |>
ggplot(aes(school_gpi)) + geom_histogram(binwidth = 0.02)
df_school_gpi |> filter(year == 2019) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 1.00341 # no recent data after 2019
SAF <- df_school_gpi |> filter(year == 2019) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(school_gpi)
df_school_gpi |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(school_gpi) |>
ggplot() + geom_histogram(aes(school_gpi), binwidth = 1) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2019年の初等中等学校就学率 GPI", subtitle = "日本：青、SACU：赤")
JP <- 1.00341 # no recent data after 2019
SAF <- df_school_gpi |> filter(year == 2019) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(school_gpi)
df_school_gpi |> filter(year == 2019) |> filter(!(country %in% REGION))|>
drop_na(school_gpi) |>
ggplot() + geom_histogram(aes(school_gpi), binwidth = 0.02) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2019年の初等中等学校就学率 GPI", subtitle = "日本：青、SACU：赤")
df_school_gpi |> filter(year == 2019) |> drop_na(school_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(school_gpi)) |> head(10) |>
ggplot(aes(fct_reorder(country, school_gpi), school_gpi)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "primary and secondary enrollment, GPI")
df_school_gpi |> filter(year == 2019) |> drop_na(school_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(school_gpi) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, school_gpi)), school_gpi)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "primary and secondary enrollment, GPI")
df_job_gpi <- WDI(indicator = c(job_gpi = "SL.TLF.CACT.FM.ZS"))
write_csv(df_job_gpi, "data/job_gpi.csv")
write_csv(df_job_gpi, "data/job_gpi.csv")
df_job_gpi <- read_csv("data/job_gpi.csv")
df_job_gpi
str(df_job_gpi)
df_job_gpi |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_job_gpi |> filter(iso2c %in% REGIONS) |> distinct(country, iso2c)
df_job_gpi |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
df_ed_exp |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
df_school_gpi |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
df_job_gpi |> filter(country == "Japan") |>
drop_na(job_gpi) |> arrange(desc(year))
df_job_gpi |> filter(country == "Japan") |> drop_na(job_gpi) |>
ggplot(aes(year, job_gpi)) + geom_line()
df_job_gpi |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(job_gpi) |>
ggplot(aes(year, job_gpi)) + geom_line(aes(col = country))
df_job_gpi |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(job_gpi) |>
ggplot(aes(year, job_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_job_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(job_gpi) |>
ggplot(aes(year, job_gpi)) + geom_line(aes(col = country))
df_job_gpi |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(job_gpi) |>
ggplot(aes(year, job_gpi)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_job_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(job_gpi) |>
ggplot(aes(job_gpi)) + geom_histogram(binwidth = 1)
df_job_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(job_gpi) |>
ggplot(aes(job_gpi)) + geom_histogram(binwidth = 10)
df_job_gpi |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 74.51027
SAF <- df_job_gpi |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(job_gpi)
df_job_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(job_gpi) |>
ggplot() + geom_histogram(aes(job_gpi), binwidth = 1) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "女性の就労率", subtitle = "日本：青、SACU：赤")
JP <- 74.51027
SAF <- df_job_gpi |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(job_gpi)
df_job_gpi |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(job_gpi) |>
ggplot() + geom_histogram(aes(job_gpi), binwidth = 10) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "女性の就労率", subtitle = "日本：青、SACU：赤")
df_job_gpi |> filter(year == 2020) |> drop_na(job_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(job_gpi)) |> head(10) |>
ggplot(aes(fct_reorder(country, job_gpi), job_gpi)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "labor force participation rate of ")
df_job_gpi |> filter(year == 2020) |> drop_na(job_gpi) |>
filter(!(iso2c %in% REGION))|>
arrange(job_gpi) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, job_gpi)), job_gpi)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "labor force participation rate")
df_female_unemploy <- WDI(indicator = c(female_unemploy = "SL.UEM.TOTL.FE.ZS"))
write_csv(df_female_unemploy, "data/female_unemploy.csv")
write_csv(df_female_unemploy, "data/female_unemploy.csv")
df_female_unemploy <- read_csv("data/female_unemploy.csv")
df_female_unemploy <- read_csv("data/female_unemploy.csv")
df_female_unemploy
str(df_female_unemploy)
df_female_unemploy |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_female_unemploy |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
df_female_unemploy |> drop_na(female_unemploy) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_female_unemploy |> filter(country == "Japan") |>
drop_na(female_unemploy) |> arrange(desc(year))
df_female_unemploy |> filter(country == "Japan") |> drop_na(female_unemploy) |>
ggplot(aes(year, female_unemploy)) + geom_line()
source("~/Documents/_class/gsclasses/intro_R/intro2r/docs/ges001/w5eda0.Rmd")
df_female_unemploy |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(female_unemploy) |>
ggplot(aes(year, female_unemploy)) + geom_line(aes(col = country))
df_female_unemploy |> filter(country %in% SOUTH_AFRICA_FIVE) |> drop_na(female_unemploy) |>
ggplot(aes(year, female_unemploy)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_female_unemploy |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(female_unemploy) |>
ggplot(aes(year, female_unemploy)) + geom_line(aes(col = country))
df_female_unemploy |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(ed_exp) |>
ggplot(aes(year, female_unemploy)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_female_unemploy |> filter(country %in% CHOSEN_COUNTRIES) |> drop_na(female_unemploy) |>
ggplot(aes(year, female_unemploy)) + geom_line(aes(col = country)) +
geom_smooth(formula = 'y~x', method = "loess", se = FALSE)
df_female_unemploy |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(female_unemploy) |>
ggplot(aes(female_unemploy)) + geom_histogram(binwidth = 1)
df_female_unemploy |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(female_unemploy) |>
ggplot(aes(female_unemploy)) + geom_histogram(binwidth = 2)
df_female_unemploy |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE)
JP <- 2.520
SAF <- df_female_unemploy |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(female_unemploy)
df_ed_exp |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(female_unemploy) |>
ggplot() + geom_histogram(aes(female_unemploy), binwidth = 2) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2020年の女性の求職率", subtitle = "日本：青、SACU：赤")
JP <- 2.520
SAF <- df_female_unemploy |> filter(year == 2020) |> filter(country %in% SOUTH_AFRICA_FIVE) |> pull(female_unemploy)
df_female_unemploy |> filter(year == 2020) |> filter(!(country %in% REGION))|>
drop_na(female_unemploy) |>
ggplot() + geom_histogram(aes(female_unemploy), binwidth = 2) +
geom_vline(xintercept = SAF, col = "red") + geom_vline(xintercept = JP, col = "blue") +labs(title = "2020年の女性の求職率", subtitle = "日本：青、SACU：赤")
df_female_unemploy |> filter(year == 2020) |> drop_na(female_unemploy) |>
filter(!(iso2c %in% REGION))|>
arrange(desc(female_unemploy)) |> head(10) |>
ggplot(aes(fct_reorder(country, female_unemploy), female_unemploy)) + geom_col() +
coord_flip() + labs(title = "Top 10 Countries", x = "country", y = "unemployment rate, female, 2020")
df_female_unemploy |> filter(year == 2020) |> drop_na(female_unemploy) |>
filter(!(iso2c %in% REGION))|>
arrange(female_unemploy) |> head(10) |>
ggplot(aes(fct_rev(fct_reorder(country, female_unemploy)), female_unemploy)) + geom_col() +
coord_flip() + labs(title = "Lowest 10 Countries", x = "country", y = "unemployment rate, female, 2020")
source("~/Documents/_class/gsclasses/intro_R/intro2r/docs/ges001/w5eda0.Rmd")
rm(df_primary_gpi)
source("~/Documents/_class/gsclasses/intro_R/intro2r/docs/ges001/w5eda0.Rmd")
ls()
rm(list = ls())
library(tidyverse)
library(WDI)
df_male_unemploy <- WDI(indicator = c(male_unemploy = "SL.UEM.TOTL.MA.ZS"))
write_csv(df_male_unemploy, "data/male_unemploy.csv")
df_male_unemploy <- read_csv("data/male_unemploy.csv")
df_male_unemploy
str(df_male_unemploy)
REGION <- c("1A", "1W", "4E", "7E", "8S", "B8", "EU", "F1", "OE", "S1",
"S2", "S3", "S4", "T2", "T3", "T4", "T5", "T6", "T7", "V1", "V2",
"V3", "V4", "XC", "XD", "XE", "XF", "XG", "XH", "XI", "XJ", "XL",
"XM", "XN", "XO", "XP", "XQ", "XT", "XU", "XY", "Z4", "Z7", "ZF",
"ZG", "ZH", "ZI", "ZJ", "ZQ", "ZT")
df_male_unemploy |> filter(iso2c %in% REGION) |> distinct(country, iso2c)
df_male_unemploy |> filter(!(iso2c %in% REGION)) |> distinct(country, iso2c)
SOUTH_AFRICA_FIVE <- c("South Africa", "Namibia", "Eswatini", "Botswana", "Lesotho")
CHOSEN_COUNTRIES <- c("Suriname", "Belize", "Brazil", "Colombia")
df_male_unemploy |> drop_na(male_unemploy) |> filter(!(iso2c %in% REGION)) |>
ggplot(aes(year)) + geom_bar()
df_male_unemploy |> filter(country == "Japan") |>
drop_na(male_unemploy) |> arrange(desc(year))
df_male_unemploy |> filter(country == "Japan") |> drop_na(male_unemploy) |>
ggplot(aes(year, male_unemploy)) + geom_line()
source("~/Documents/_class/gsclasses/intro_R/intro2r/docs/ges001/w5eda0.Rmd")
